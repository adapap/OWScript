# tmLanguage scope reference
# https://macromates.com/manual/en/language_grammars
$schema: https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json
name: OWScript
patterns:
- include: "#main"
- include: "#keywords"
#- include: "#strings"
repository:
  main:
    patterns:
    - name: meta.workshop.rule.owscript
      begin: "(?i)\\b(RULE)\\b"
      end: "\n$"
      captures:
        0:
          name: keyword.rule.owscript
    - include: "#rule"
  rule:
    patterns:
    - include: "#strings"
    # Push meta.workshop.ruleblock.owscript
    - name: keyword.workshop.event.owscript
      match: "(?i)\\b(EVENT)\\b"
    - name: keyword.workshop.conditions.owscript
      match: "(?i)\\b(CONDITIONS)\\b"
    - name: keyword.workshop.actions.owscript
      match: "(?i)\\b(ACTIONS)\\b"
  keywords:
    patterns:
    - name: keyword.control.owscript
      match: "(?i)\\b(#import|if|while|for|return)\\b"
  strings:
    patterns:
    - name: string.quoted.double.owscript
      begin: "\""
      end: "\""
    - name: string.quoted.single.owscript
      begin: "'"
      end: "'"
scopeName: source.owscript